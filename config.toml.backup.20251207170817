# nai_pic_plugin - 配置文件
# 专用于 NovelAI Web API（如 std.loliyc.com）的图片生成插件。支持 NAI 格式提示词（大括号权重），仅支持文生图功能。适合使用 NovelAI 网页代理接口的用户。
# 配置版本: 1.0.0

# 插件基本配置
[plugin]

# NovelAI Web 图片生成插件 (必需)
name = "nai_pic_plugin"

# 插件配置版本号
config_version = "1.0.0"

# 是否启用插件
enabled = true


# NovelAI Web 模型配置
[model]

# 模型显示名称
name = "NovelAI Web (std.loliyc.com)"

# NovelAI Web API 基础地址 (必需)
base_url = "https://std.loliyc.com"

# API Token（如需要）
api_key = "STD-lpUNBA03q1KPHuXKumzX"

# 可用的 NovelAI 模型列表
available_models = ["nai-diffusion-3", "nai-diffusion-3-furry", "nai-diffusion-4-curated", "nai-diffusion-4-full", "nai-diffusion-4-5-full"]

# 当前使用的模型名称（从 available_models 中选择）
default_model = "nai-diffusion-4-5-full"

# API 端点路径
nai_endpoint = "/generate"


# NovelAI V3 模型专用配置（nai-diffusion-3 和 nai-diffusion-3-furry）
[model_nai3]

# NAI V3 画师风格预设列表（可配置多个）
# 每个预设包含 name（显示名称）和 prompt（画师串内容）
# 格式：[[model_nai3.artist_presets]]
#       name = "风格名称"
#       prompt = "画师串内容"
artist_presets = [
  { name = "示例风格1", prompt = "artist:example1, artist:example2, year 2023" },
  { name = "示例风格2", prompt = "artist:example3, artist:example4, year 2024" }
]

# NAI V3 专用画师风格提示词（可选，优先级低于 artist_presets）
nai_artist_prompt = ""

# NAI V3 专用图片尺寸
nai_size = "832x1216"

# NAI V3 专用CFG参数
nai_cfg = 0.0

# NAI V3 专用噪声调度器
nai_noise_schedule = "karras"

# NAI V3 专用缓存设置
nai_nocache = 1

# NAI V3 专用采样器
sampler = "k_euler_ancestral"

# NAI V3 专用推理步数
num_inference_steps = 25

# NAI V3 专用指导强度
guidance_scale = 3.5

# NAI V3 专用默认尺寸
default_size = "832x1216"

# NAI V3 专用自动添加的提示词后缀
custom_prompt_add = "{masterpiece}, best quality, illustration"

# NAI V3 专用负面提示词
negative_prompt_add = "( badly drawn hands and fingers, anatomically incorrect hands),blurry,multiple views,comic,censored,jpeg artifacts,patreon logo,patreon username,web address,artist name,safe_neg,unfinished,displeasing,oldest,early,artistic error,scan,simple background,worst quality,normal quality,anatomical nonsense,bad anatomy,interlocked fingers,extra fingers,watermark,simple background,transparent,low quality,logo,text,signature"

# NAI V3 专用自拍模式提示词
selfie_prompt_add = ""

# NAI V3 专用额外参数
nai_extra_params = {  }


# NovelAI V4 模型专用配置（nai-diffusion-4-curated、nai-diffusion-4-full 等）
[model_nai4]

# NAI V4 画师风格预设列表（可配置多个）
# 每个预设包含 name（显示名称）和 prompt（画师串内容）
artist_presets = [
  { name = "风格组合1", prompt = "1.2::artist1::, 1.0::artist2::, 0.9::artist3::" },
  { name = "风格组合2", prompt = "1.5::artist4::, 1.0::artist5::, 0.8::artist6::" }
]

# NAI V4 专用画师风格提示词（可选，优先级低于 artist_presets）
nai_artist_prompt = ""

# NAI V4 专用图片尺寸
nai_size = "竖图"

# NAI V4 专用CFG参数
nai_cfg = 0.0

# NAI V4 专用噪声调度器
nai_noise_schedule = "karras"

# NAI V4 专用缓存设置
nai_nocache = 1

# NAI V4 专用采样器
sampler = "k_euler_ancestral"

# NAI V4 专用推理步数
num_inference_steps = 28

# NAI V4 专用指导强度
guidance_scale = 5.0

# NAI V4 专用默认尺寸
default_size = "1024x1280"

# NAI V4 专用自动添加的提示词后缀
custom_prompt_add = ",masterpiece, best quality, absurdres, nostalgic, melancholic, cinematic lighting, soft glow, dynamic shadows, light particles, beautiful detailed eyes, detailed iris, expressive eyes, soft smile, blush, curvy, feminine, wind, hair blowing, scenery, highly detailed background, sharp focus, in focus, clear background, intricate details, -1.9::chibi, text::"

# NAI V4 专用负面提示词
negative_prompt_add = "{{crowd, many people, people in background, spectators, audience, other people, other characters, multiple subjects}}, {{doll, figurine, toy, mannequin, statue, puppet, chibi, plushie, stuffed toy}}, {{portrait, poster, painting, photograph, picture on wall, person on screen, graffiti, character print, face print}}, {extra face, multiple faces, face in background, disembodied head, pareidolia}, worst quality, low quality, normal quality, lowres, jpeg artifacts, {{ugly}}, {{duplicate}}, blurry, cropped, out of frame, {bad anatomy}, {{bad proportions}}, gross proportions, {malformed limbs}, bad anatomy disfigured, malformed mutated, {{mutation}}, {{deformed}}, {{disfigured}}, {{morbid}}, {{mutilated}}, malformed hands, mutated hands, {poorly drawn hands}, {fused fingers}, too many fingers, extra fingers, extra digit, bad feet, fingers, bad finglegs, extra limbs, {extra arms}, {extra legs}, missing limb, {missing arms}, {missing legs}, {long neck}, {poorly drawn face}, {simple clothing, plain clothes, monochrome, boring outfit}, masculine, beard, scrotum,blur, blurred, blurry, depth of field, bokeh, simple background, black background, dark background, out of focus"

# NAI V4 专用自拍模式提示词
selfie_prompt_add = "black hair, multicolored hair, {purple highlights}, {pink highlights}, streaked color,medium hair, double bun, hair buns,green eyes, tareme, {mole under eye},petite, slender,[[small breasts]]"

# NAI V4 专用额外参数
nai_extra_params = {  }


# NovelAI V4.5 模型专用配置（nai-diffusion-4-5-full 等最新模型）
[model_nai4_5]

# NAI V4.5 画师风格预设列表（可配置多个）
# 每个预设包含 name（显示名称）和 prompt（画师串内容）
artist_presets = [
  { name = "channel风", prompt = "1.4::kazutake hazano::, 1.2::efe::, 1.0::inamori ryusa::, 0.9::tianliang duohe fangdongye::, 0.8::min_(120716)::, 0.8::misumigumi::, 0.8::makihitsuji::, 0.8::nong 345 ::, 0.7::mimoza (96mimo414)::, 0.6::fujiyama::, 0.5::rella::, 0.4::dolphro-kun::, [[channel_(caststation)]]" },
  { name = "简笔朴素1", prompt = "1.2::artist:shion(mirudakemann)::,0.6::artist:ciloranko::,0.8::artist:kushima yu::,artist:na tarapisu153,1::artist:yajuu::,1::artist:ask (askzy)::,artists:ningen mame,rella,2::artist:sincos::,artist:mikozin,konya karasue,1.1::artist:kushima yu::,1.4::artist:matsuura kento::,1.5::artist:huang gua::,masterpiece,best quality,2:: flat color,pale color::-2::artist collaboration,realistic, ::year2025 ::" },
  { name = "Q风", prompt = "artist:pekeko (pepekekeko),artist:daizu_(melon-lemon),artist:alchemaniac,artist:potg (piotegu),artist:Xinzoruo,artist:zoirun" },
  { name = "可爱的风格（？", prompt = "1.4::kazutake_hazano::,0.8::min_(120716)::,0.8::misumigumi::,0.8::makihitsuji::,0.6::fujiyama::,0.5::rella::,0.4::dolphro-kun::" },
  { name = "厚涂风", prompt = "[[artist:chen_bin]], [artist:sho_(sho_lwlw)], [artist:ningen_mame], [artist:tianliang_duohe_fangdongye], [[artist:ciloranko]], [[artist:rella]], [[artist:konya_karasue]],masterpiece,best quality,artist:yoneyama_mai ,artist:piromizu,artist:binggong_asylum,{{artist:D.I.S.H}},{{artist:Fuzichoco}},artist:miv4t,artist:quasarcake" },
  { name = "简笔朴素2", prompt = "1.2::artist:shion(mirudakemann)::,0.6::artist:ciloranko::,0.7::artist:min (120716)::,0.8::artist:kushima yu::,artist:na tarapisu153,1::artist:yajuu::,1::artist:ask (askzy)::,artists:ningen mame,rella,2::artist:sincos::,artist:mikozin,konya karasue,1.1::artist:kushima yu::,1.4::artist:matsuura kento::,1.5::artist:huang gua::,masterpiece,best quality,2:: flat color,pale color::-2::artist collaboration,realistic::,::year2025 ::" },
  { name = "梵高混合", prompt = "1.2::artist:shion(mirudakemann)::,0.6::artist:ciloranko::,0.5::artist:sincos,artist:qiandaiyiyu::,0.8::artist:Cogecha::,artist:alchemaniac,artist:maccha (mochancc),1.3::artist:Vincent van Gogh::,1.5::artist:huang gua::,1.23::best quality,masterpiece::" },
  { name = "好像有点色的风格？", prompt = "1.2::gujianshaonu ::,0.9::yd_(orange_maru) ::,0.9::kincora ::,0.9::yunsang ::,year 2024,year 2025" },
  { name = "另一个Q风", prompt = "1.8::tatami to hinoki, nikorashi-ka, booota::, evodtonaeco, tantan_men_(dragon),[[[usashino mani]]]" },
  { name = "空", prompt =""},
]
# NAI V4.5 专用画师风格提示词（可选，优先级低于 artist_presets）
nai_artist_prompt = ""

# NAI V4.5 专用图片尺寸
nai_size = "竖图"

# NAI V4.5 专用CFG参数
nai_cfg = 0.0

# NAI V4.5 专用噪声调度器
nai_noise_schedule = "karras"

# NAI V4.5 专用缓存设置
nai_nocache = 1

# NAI V4.5 专用采样器
sampler = "k_euler_ancestral"

# NAI V4.5 专用推理步数
num_inference_steps = 28

# NAI V4.5 专用指导强度
guidance_scale = 5.0

# NAI V4.5 专用默认尺寸
default_size = "1024x1280"

# NAI V4.5 专用自动添加的提示词后缀
custom_prompt_add = ",masterpiece, best quality,-1.9::chibi, text::"

# NAI V4.5 专用负面提示词
negative_prompt_add = "{{crowd, many people, people in background, spectators, audience, other people, other characters, multiple subjects}}, {{doll, figurine, toy, mannequin, statue, puppet, chibi, plushie, stuffed toy}}, {{portrait, poster, painting, photograph, picture on wall, person on screen, graffiti, character print, face print}}, {extra face, multiple faces, face in background, disembodied head, pareidolia}, worst quality, low quality, normal quality, lowres, jpeg artifacts, {{ugly}}, {{duplicate}}, cropped, out of frame, {bad anatomy}, {{bad proportions}}, gross proportions, {malformed limbs}, bad anatomy disfigured, malformed mutated, {{mutation}}, {{deformed}}, {{disfigured}}, {{morbid}}, {{mutilated}}, malformed hands, mutated hands, {poorly drawn hands}, {fused fingers}, too many fingers, extra fingers, extra digit, bad feet, fingers, bad finglegs, extra limbs, {extra arms}, {extra legs}, missing limb, {missing arms}, {missing legs}, {long neck}, {poorly drawn face}, {simple clothing, plain clothes, monochrome, boring outfit}, masculine, beard, scrotum, simple background, black background, dark background, text, signature, watermark, username, artist name"

# NAI V4.5 专用自拍模式提示词
selfie_prompt_add = "black hair, multicolored hair, {purple highlights}, {pink highlights}, streaked color,medium hair, double bun, hair buns,green eyes, tareme, {mole under eye},petite, slender,[[small breasts]]"

# NAI V4.5 专用额外参数
nai_extra_params = {  }


# 组件配置
[components]

# 是否显示调试信息
enable_debug_info = false


# 自动撤回配置
[auto_recall]

# 是否默认启用自动撤回
enabled = false

# 撤回延迟时间（秒）
delay_seconds = 15

# 等待正式消息ID的最长时间（秒）
id_wait_seconds = 15

# 允许使用自动撤回功能的会话白名单（格式：platform:chat_id）
allowed_groups = []


# 管理员权限配置
[admin]

# 管理员用户ID列表（字符串格式），管理员可以使用 /nai st/sp 命令控制管理员模式
admin_users = ["584232670","1334431750","3082618311"]

# 是否默认启用管理员模式（开启后仅管理员可使用 /nai 生图命令）
default_admin_mode = false


# 提示词生成配置
[prompt_generator]

# 提示词生成使用的LLM模型代号，留空则自动选择
model_name = ""

# 提示词生成LLM的温度设置
temperature = 0.2

# 提示词生成LLM响应的最大token
max_tokens = 200

# 自定义提示词生成模板，支持<<USER_REQUEST>>和<<SELFIE_HINT>>占位符
prompt_template = ""


# 提示词生成配置（兼容旧配置名）
[prompt_fallback]

# [已兼容] 提示词生成使用的LLM模型代号，留空则自动选择
model_name = ""

# [已兼容] 提示词生成LLM的温度设置
temperature = 0.2

# [已兼容] 提示词生成LLM响应的最大token
max_tokens = 200

# [已兼容] 自定义提示词生成模板，支持<<USER_REQUEST>>和<<SELFIE_HINT>>占位符
prompt_template = ""


